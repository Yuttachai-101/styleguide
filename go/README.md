# Go Style (สไตล์การเขียน Go)

[ภาพรวม](index) | [คู่มือหลัก](guide) | [การตัดสินใจ](decisions) | [แนวทางปฏิบัติที่ดีที่สุด](best-practices)

---

## เกี่ยวกับ (About)

คู่มือสไตล์ Go (Go Style Guide) และเอกสารประกอบเหล่านี้ได้รวบรวมแนวทางปฏิบัติที่ดีที่สุดในปัจจุบัน เพื่อการเขียนโค้ด Go ให้ "อ่านง่าย" และ "ถูกต้องตามสำนวนภาษา (Idiomatic)" การปฏิบัติตามคู่มือนี้ไม่ได้บังคับแบบตายตัวและไม่ได้ครอบคลุมทุกเรื่อง แต่มีเจตนาเพื่อลดการคาดเดาในการเขียนโค้ด และช่วยให้ผู้เริ่มต้นหลีกเลี่ยงข้อผิดพลาดทั่วไปได้ นอกจากนี้ยังช่วยให้มาตรฐานการรีวิวโค้ด Go ภายใน Google เป็นไปในทิศทางเดียวกัน

| เอกสาร                                        | ลิงก์                                                                 | กลุ่มเป้าหมายหลัก                   | [Normative] (เกณฑ์ปฏิบัติ) | [Canonical] (มาตรฐานถาวร) |
| :-------------------------------------------- | :-------------------------------------------------------------------- | :---------------------------------- | :------------------------- | :------------------------ |
| **Style Guide** (คู่มือสไตล์)                 | [ลิงก์](https://yuttachai-101.github.io/styleguide/go/guide)          | ทุกคน                               | ใช่                        | ใช่                       |
| **Style Decisions** (การตัดสินใจเรื่องสไตล์)  | [ลิงก์](https://yuttachai-101.github.io/styleguide/go/decisions)      | Readability Mentors (ผู้ให้คำแนะนำ) | ใช่                        | ไม่                       |
| **Best Practices** (แนวทางปฏิบัติที่ดีที่สุด) | [ลิงก์](https://yuttachai-101.github.io/styleguide/go/best-practices) | ผู้ที่สนใจ                          | ไม่                        | ไม่                       |

---

### เอกสารประกอบ (Documents)

1.  **[Style Guide (คู่มือสไตล์)](https://yuttachai-101.github.io/styleguide/go/guide)**
    วางรากฐานของสไตล์ Go ที่ Google เอกสารนี้ถือเป็น **ข้อกำหนดหลัก** และใช้เป็นพื้นฐานสำหรับคำแนะนำในเอกสารอื่นๆ

2.  **[Style Decisions (การตัดสินใจเรื่องสไตล์)](https://yuttachai-101.github.io/styleguide/go/decisions)**
    เอกสารที่มีรายละเอียดมากขึ้น สรุปการตัดสินใจในจุดเฉพาะเจาะจงพร้อมเหตุผลประกอบ

    - เนื้อหาอาจเปลี่ยนแปลงได้ตามข้อมูลใหม่ ฟีเจอร์ภาษา หรือไลบรารีใหม่ๆ
    - โปรแกรมเมอร์ทั่วไปไม่จำเป็นต้องติดตามอัปเดตเอกสารนี้ตลอดเวลา

3.  **[Best Practices (แนวทางปฏิบัติที่ดีที่สุด)](https://yuttachai-101.github.io/styleguide/go/best-practices)**
    รวบรวมรูปแบบ (Patterns) ที่ผ่านการพิสูจน์แล้วว่าแก้ปัญหาได้ดี อ่านง่าย และทนทานต่อการบำรุงรักษา
    - ไม่ได้เป็นกฎข้อบังคับตายตัว (Canonical) แต่แนะนำให้ใช้เพื่อให้โค้ดมีความสม่ำเสมอ

**เจตนาของเอกสารเหล่านี้ คือ:**

- ตกลงในหลักการเพื่อชั่งน้ำหนักสไตล์ที่แตกต่างกัน
- บัญญัติเรื่องสไตล์ของ Go ที่ตกลงกันเป็นข้อยุติแล้ว
- ให้ตัวอย่างที่ถูกต้องตามสำนวนภาษา (Idioms) ของ Go
- ลดความประหลาดใจในขั้นตอนการรีวิวโค้ด

**เอกสารเหล่านี้ "ไม่ได้" มีเจตนาเพื่อ:**

- เป็นรายการตรวจสอบ (Checklist) ทั้งหมดสำหรับการรีวิว
- เป็นกฎที่ทุกคนต้องท่องจำและทำตามตลอดเวลา
- มาแทนที่วิจารณญาณที่ดีในการเขียนโค้ด
- ใช้เป็นข้ออ้างในการรื้อโค้ดขนานใหญ่เพียงเพื่อแก้เรื่องสไตล์

> **ข้อแนะนำ:** ความสม่ำเสมอ (Consistency) เป็นเรื่องสำคัญ แต่คุณไม่จำเป็นต้องจู้จี้กับทุกจุดที่ผิดไปจากคู่มือ ให้เน้นเขียนโค้ดใหม่โดยใช้แนวทางปฏิบัติล่าสุด และค่อยๆ ปรับแก้โค้ดเก่าเมื่อมีโอกาส เรื่องสไตล์มีความเป็นส่วนตัวและต้องชั่งน้ำหนักเสมอ แต่การมีความเป็นระเบียบเหมือนกัน (Uniformity) นั้นมีคุณค่ามาก

---

## คำนิยาม (Definitions)

คำศัพท์สำคัญที่ใช้ในเอกสารชุดนี้:

- **Canonical (มาตรฐานถาวร)**

  - คือกฎเกณฑ์ที่ถือเป็นมาตรฐานที่โค้ดทั้งหมด (ทั้งเก่าและใหม่) ควรปฏิบัติตาม และไม่คาดว่าจะเปลี่ยนแปลงบ่อย
  - เป็นสิ่งที่ผู้เขียนและผู้รีวิวต้องเข้าใจตรงกัน เนื้อหาในส่วนนี้จึงต้องผ่านเกณฑ์มาตรฐานสูง

- **Normative (เกณฑ์ปฏิบัติ / บรรทัดฐาน)**

  - คือสไตล์ที่ตกลงกันเพื่อให้ผู้รีวิวโค้ด (Reviewers) ใช้เป็นแนวทางเดียวกัน
  - อาจเปลี่ยนแปลงได้ตามเวลา ผู้เขียนโค้ดไม่จำเป็นต้องรู้ทั้งหมด แต่ผู้รีวิวจะใช้เป็นแหล่งอ้างอิง

- **Idiomatic (ตามสำนวนภาษา)**
  - คือรูปแบบที่ "แพร่หลาย" และ "คุ้นเคย" ในโค้ด Go
  - ควรอ่านแล้วจำได้ทันที หากมีทางเลือก ให้เลือกวิธีที่เป็น Idiomatic เพราะผู้อ่านจะเข้าใจได้ง่ายที่สุด

---

## ข้อมูลอ้างอิงเพิ่มเติม (Additional references)

คู่มือนี้ถือว่าผู้อ่านมีความคุ้นเคยกับ [Effective Go](https://go.dev/doc/effective_go) แล้ว ซึ่งเป็นพื้นฐานสำคัญของชุมชน Go

**แหล่งข้อมูลภายนอกที่น่าสนใจ:**

- [Go Language Specification](https://go.dev/ref/spec)
- [Go FAQ](https://go.dev/doc/faq)
- [Go Memory Model](https://go.dev/ref/mem)
- [Go Data Structures](https://research.swtch.com/godata)
- [Go Proverbs](https://go-proverbs.github.io/)

**บทความเกี่ยวกับการทดสอบ (Testing):**

- [Identifier Naming](https://testing.googleblog.com/2017/10/code-health-identifiernamingpostforworl.html) การตั้งชื่อตัวแปร
- [Testing State vs. Testing Interactions](https://testing.googleblog.com/2013/03/testing-on-toilet-testing-state-vs.html)
- [Effective Testing](https://testing.googleblog.com/2014/05/testing-on-toilet-effective-testing.html)
